{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  name: 'Manager',\n  component: () => import('../views/Manager'),\n  redirect: 'home',\n  //重定向\n  children: [{\n    path: '/403',\n    name: 'Auth',\n    component: () => import('../views/manager/Auth')\n  }, {\n    path: 'home',\n    name: 'Home',\n    component: () => import('../views/manager/Home')\n  }, {\n    path: 'user',\n    name: 'User',\n    component: () => import('../views/manager/User')\n  }, {}]\n}, {\n  path: '/login',\n  name: 'Login',\n  component: () => import('../views/Login')\n}, {\n  path: '/register',\n  name: 'Register',\n  component: () => import('../views/Register')\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  //to是到达的路由信息\n  //from是开源的路由信息\n  //next 是帮助我们跳转路由的函数\n  let adminPaths = ['/user'];\n  let user = JSON.parse(localStorage.getItem('honey-user') || '{}');\n  //如果当前用户不是管理员且访问了管理员权限的路径，那么访问跳转别的页面\n  if (user.role !== '管理员' && adminPaths.includes(to.path)) {\n    next('/403');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","routes","path","name","component","redirect","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","adminPaths","user","JSON","parse","localStorage","getItem","role","includes"],"sources":["C:/Users/Chan9zero/Desktop/biyesheji-1/project-1/vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Manager',\n    component: () => import('../views/Manager'),\n    redirect: 'home', //重定向\n    children: [\n      {path: '/403', name: 'Auth', component: () => import('../views/manager/Auth')},\n      {path:'home', name:'Home', component: () =>import('../views/manager/Home') },\n      {path:'user', name:'User', component: () =>import('../views/manager/User') },\n      {}\n    ]\n  },\n\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('../views/Login')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('../views/Register')\n  },\n\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to, from, next) =>{\n  //to是到达的路由信息\n  //from是开源的路由信息\n  //next 是帮助我们跳转路由的函数\n  let adminPaths = ['/user']\n  let user = JSON.parse(localStorage.getItem('honey-user') || '{}')\n  //如果当前用户不是管理员且访问了管理员权限的路径，那么访问跳转别的页面\n  if(user.role !== '管理员' && adminPaths.includes(to.path)){\n    next('/403')\n  }\n  else{\n    next()\n  }\n\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElCD,GAAG,CAACE,GAAG,CAACD,SAAS,CAAC;AAElB,MAAME,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,SAAS;EACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,kBAAkB,CAAC;EAC3CC,QAAQ,EAAE,MAAM;EAAE;EAClBC,QAAQ,EAAE,CACR;IAACJ,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE,MAAM;IAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;EAAC,CAAC,EAC9E;IAACF,IAAI,EAAC,MAAM;IAAEC,IAAI,EAAC,MAAM;IAAEC,SAAS,EAAEA,CAAA,KAAK,MAAM,CAAC,uBAAuB;EAAE,CAAC,EAC5E;IAACF,IAAI,EAAC,MAAM;IAAEC,IAAI,EAAC,MAAM;IAAEC,SAAS,EAAEA,CAAA,KAAK,MAAM,CAAC,uBAAuB;EAAE,CAAC,EAC5E,CAAC,CAAC;AAEN,CAAC,EAED;EACEF,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,gBAAgB;AAC1C,CAAC,EACD;EACEF,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mBAAmB;AAC7C,CAAC,CAEF;AAED,MAAMG,MAAM,GAAG,IAAIR,SAAS,CAAC;EAC3BS,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1BX;AACF,CAAC,CAAC;AAEFM,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAI;EACnC;EACA;EACA;EACA,IAAIC,UAAU,GAAG,CAAC,OAAO,CAAC;EAC1B,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC;EACjE;EACA,IAAGJ,IAAI,CAACK,IAAI,KAAK,KAAK,IAAIN,UAAU,CAACO,QAAQ,CAACV,EAAE,CAACZ,IAAI,CAAC,EAAC;IACrDc,IAAI,CAAC,MAAM,CAAC;EACd,CAAC,MACG;IACFA,IAAI,CAAC,CAAC;EACR;AAEF,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}