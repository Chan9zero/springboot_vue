{"version":3,"file":"js/647.7b557735.js","mappings":"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","sources":["webpack://vue/./src/views/manager/User.vue","webpack://vue/src/views/manager/User.vue","webpack://vue/./src/views/manager/User.vue?5a88","webpack://vue/./src/views/manager/User.vue?0ea2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"查询用户名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin\":\"0 5px\"},attrs:{\"placeholder\":\"查询姓名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}},[_vm._v(\">\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.load(1)}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.delBatch}},[_vm._v(\"批量删除\")]),_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.exportData}},[_vm._v(\"批量导出\")]),_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\"},attrs:{\"action\":_vm.$baseUrl+'/user/import',\"headers\":{token: _vm.user.token},\"on-success\":_vm.handleImport,\"show-file-list\":false}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"批量导入\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"header-cell-style\":{backgroundColor: 'aliceblue', color: '#666'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"id\",\"width\":\"70\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"地址\",\"prop\":\"address\"}}),_c('el-table-column',{attrs:{\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[(scope.row.avatar)?_c('el-image',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\",\"border-radius\":\"50%\"},attrs:{\"src\":scope.row.avatar,\"preview-src-list\":[scope.row.avatar]}}):_vm._e()],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticStyle:{\"margin\":\"10px 0\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[100, 200, 300, 400],\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"收货地址\",\"visible\":_vm.formVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"formRef\",staticStyle:{\"padding-right\":\"20px\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"姓名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"电话\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"邮箱\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"role\"}},[_c('el-radio-group',{model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}},[_c('el-radio',{attrs:{\"label\":\"管理员\"}}),_c('el-radio',{attrs:{\"label\":\"用户\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.$baseUrl+'/file/upload',\"headers\":{ token: _vm.user.token },\"file-list\":_vm.form.avatar ? [_vm.form.avatar] : [],\"list-type\":\"picture\",\"on-success\":_vm.handleAvatarSuccess}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"上传头像\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.formVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n  <div>\r\n    <el-input style=\"width: 200px\" placeholder=\"查询用户名\" v-model=\"username\"></el-input>\r\n    <el-input style=\"width: 200px; margin:0 5px\"placeholder=\"查询姓名\" v-model=\"name\">></el-input>\r\n    <el-button type=\"primary\" @click=\"load(1)\">查询</el-button>\r\n    <el-button type=\"info\" @click=\"reset\">重置</el-button>\r\n  </div>\r\n  <div style=\"margin: 10px 0\">\r\n    <el-button type=\"primary\" plain @click=\"handleAdd\">新增</el-button>\r\n    <el-button type=\"danger\" plain @click=\"delBatch\">批量删除</el-button>\r\n    <el-button type=\"info\" plain @click=\"exportData\">批量导出</el-button>\r\n    <el-upload :action=\"$baseUrl+'/user/import'\" :headers=\"{token: user.token}\"\r\n               :on-success=\"handleImport\" style=\"display: inline-block; margin-left: 10px\"\r\n               :show-file-list=\"false\">\r\n      <el-button type=\"primary\" plain>批量导入</el-button>\r\n    </el-upload>\r\n  </div>\r\n\r\n  <el-table :data=\"tableData\" stripe  :header-cell-style=\"{backgroundColor: 'aliceblue', color: '#666'}\"\r\n            @selection-change=\"handleSelectionChange\">\r\n    <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n    <el-table-column label=\"ID\" prop=\"id\" width=\"70\" align=\"center\"></el-table-column>\r\n    <el-table-column label=\"用户名\" prop=\"username\"></el-table-column>\r\n    <el-table-column label=\"姓名\" prop=\"name\"></el-table-column>\r\n    <el-table-column label=\"手机号\" prop=\"phone\"></el-table-column>\r\n    <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n    <el-table-column label=\"地址\" prop=\"address\"></el-table-column>\r\n    <el-table-column label=\"头像\">\r\n      <template v-slot=\"scope\">\r\n        <div style=\"display: flex; align-items: center\">\r\n          <el-image style=\"width: 50px; height: 50px; border-radius: 50%\" v-if=\"scope.row.avatar\"\r\n                    :src=\"scope.row.avatar\" :preview-src-list=\"[scope.row.avatar]\">\r\n          </el-image>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"role\" label=\"角色\"></el-table-column>\r\n    <el-table-column label=\"操作\" align=\"center\" width=\"180\">\r\n      <template v-slot=\"scope\">\r\n        <el-button size=\"mini\" type=\"primary\" plain @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n        <el-button size=\"mini\" type=\"danger\" plain @click=\"del(scope.row.id)\">删除</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n\r\n    <div style=\"margin: 10px 0\">\r\n      <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"pageNum\"\r\n          :page-sizes=\"[100, 200, 300, 400]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, prev, pager, next\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <el-dialog title=\"收货地址\" :visible.sync=\"formVisible\" width=\"30%\">\r\n      <el-form :model=\"form\" label-width=\"80px\" style=\"padding-right: 20px\" :rules=\"rules\" ref=\"formRef\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"form.username\" placeholder=\"用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"form.name\" placeholder=\"姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"电话\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\" placeholder=\"邮箱\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"地址\" prop=\"address\">\r\n          <el-input type=\"textarea\" v-model=\"form.address\" placeholder=\"地址\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"权限\" prop=\"role\">\r\n          <el-radio-group v-model=\"form.role\">\r\n            <el-radio label=\"管理员\"></el-radio>\r\n            <el-radio label=\"用户\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"头像\">\r\n          <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"$baseUrl+'/file/upload'\"\r\n              :headers=\" { token: user.token }\"\r\n              :file-list=\"form.avatar ? [form.avatar] : []\"\r\n              list-type=\"picture\"\r\n              :on-success=\"handleAvatarSuccess\"\r\n          >\r\n            <el-button type=\"primary\">上传头像</el-button>\r\n          </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"formVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"User\",\r\n  data(){\r\n    return{\r\n      tableData: [], //所有的数据\r\n      pageNum: 1, //当前页码\r\n      pageSize: 5, //每页显示的个数\r\n      username: '',\r\n      name: '',\r\n      total: 0,\r\n      formVisible: false,\r\n      form: {},\r\n      user: JSON.parse(localStorage.getItem('honey-user') || '{}'),\r\n      rules: {\r\n        username:[\r\n          {required: true, message: '请输入账号', trigger: 'blur'}\r\n        ]\r\n      },\r\n      ids: []\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods:{\r\n    handleImport(res, file, fileList){\r\n      if (res.code === '200'){\r\n        this.$message.success(\"操作成功\")\r\n        this.load(1)\r\n      } else {\r\n        this.$message.error(res.msg)\r\n      }\r\n    },\r\n    exportData(){  //批量导出数据\r\n      if(!this.ids.length){ //如果没有选中则导出全部或者根据搜索导出\r\n        window.open(this.$baseUrl + '/user/export?token='+ this.user.token\r\n        + \"&username=\" + this.username + \"&name=\" + this.name)\r\n      } else {\r\n        let idStr = this.ids.join(',')\r\n        window.open(this.$baseUrl + '/user/export?token='+ this.user.token\r\n            + \"&ids=\" + idStr)\r\n      }\r\n    },\r\n    handleSelectionChange(rows){  //当前选中的所有行信息\r\n      this.ids = rows.map(v => v.id)\r\n    },\r\n    delBatch(){\r\n      if(!this.ids.length){\r\n        this.$message.warning('请选择数据')\r\n        return\r\n      }\r\n      this.$confirm('是否确定批量删除？', '确认删除', {type:\"warning\"}).then(response =>{\r\n        this.$request.delete('/user/delete/batch', {data: this.ids}).then(res =>{\r\n          if(res.code === '200'){\r\n            this.$message.success('操作成功')\r\n            this.load(1)\r\n          } else{\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      }).catch(() => {})\r\n    },\r\n    del(id){\r\n      this.$confirm('是否确认删除？', '确认删除', {type:\"warning\"}).then(response =>{\r\n        this.$request.delete('/user/delete/' + id).then(res =>{\r\n          if(res.code === '200'){\r\n            this.$message.success('操作成功')\r\n            this.load(1)\r\n          } else{\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      }).catch(() => {})\r\n    },\r\n    handleEdit(row){  //编辑数据\r\n      this.form = JSON.parse(JSON.stringify(row))  //给form对象赋值，深拷贝\r\n      this.formVisible = true //打开弹窗\r\n    },\r\n    handleAdd(){  //新增数据\r\n      this.form = { role: '用户' }  //点击新增时清空数据\r\n      this.formVisible=true //打开弹窗\r\n    },\r\n    save(){ //保存按钮触发的逻辑 他会触发新增或者更新\r\n      this.$refs.formRef.validate((valid)=> {\r\n        if(valid){\r\n          this.$request({\r\n            url: this.form.id ? 'user/update': 'user/add',\r\n            method: this.form.id ? 'PUT' : 'POST',\r\n            data: this.form\r\n          }).then(res => {\r\n            if(res.code === '200'){ //表示成功保存\r\n              this.$message.success('保存成功')\r\n              this.load(1)\r\n              this.formVisible = false\r\n            } else{\r\n              this.$message.error(res.msg) //失败\r\n            }\r\n          })\r\n\r\n        }\r\n\r\n      })\r\n    },\r\n    reset(){\r\n      this.name=''\r\n      this.username=''\r\n      this.load(1)\r\n    },\r\n    load(pageNum){  //分页查询\r\n      if(pageNum){\r\n        this.pageNum=pageNum\r\n      }\r\n      this.$request.get('/user/selectByPage', {\r\n        params:{\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          username: this.username,\r\n          name: this.name\r\n        }\r\n      }).then(res =>{\r\n        this.tableData = res.data.records\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n    handleAvatarSuccess(response, file, fileList){\r\n      this.form.avatar = response.data\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=0e416c04&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e416c04\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","username","callback","$$v","expression","name","_v","on","$event","load","reset","handleAdd","delBatch","exportData","$baseUrl","token","user","handleImport","tableData","backgroundColor","color","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","avatar","_e","handleEdit","del","id","pageNum","pageSize","total","handleCurrentChange","formVisible","ref","form","rules","$set","phone","email","address","role","staticClass","handleAvatarSuccess","slot","save","staticRenderFns","data","JSON","parse","localStorage","getItem","required","message","trigger","ids","created","methods","res","file","fileList","code","$message","success","error","msg","length","idStr","join","window","open","rows","map","v","$confirm","type","then","response","$request","delete","catch","warning","stringify","$refs","formRef","validate","valid","url","method","get","params","records","component"],"sourceRoot":""}